# C 학습 전 사전 지식

# 컴퓨터의 중요한 요소

- 모든 연산은 CPU의 레지스터 상에서 수행한다. 64비트 CPU의 경우 레지스터의 크기는 8바이트이다.
- CPU는 무슨 연산을 할지 알려주는 명령어와 명령어를 실행하기 위해 필요로 하는 데이터를 메모리에서 읽는다.
- 우리가 프로그램을 실행한다는 것은 하드 디스크에 잠들어 있는 명령어들과 데이터를 메모리에 쓰는 것이라 생각하면 된다.
- 운영체제가 CPU에 처음으로 실행할 명령어의 주소값을 전달함으로써 프로그램이 실행된다.
- CPU에는 캐시가 있어서 메모리 접근 횟수를 줄일 수 있다.
- 각 프로그램들은 마치 자신이 방대한 메모리 공간 전체를 사용하는 것 처럼 생각하며 작동한다.
- CPU에서 참조하는 주소값은 실제 물리 메모리 주소 값이 아니라 가상 메모리 주소 값이다.
- 가상 메모리 주소값은 각 프로그램의 페이지 테이블을 통해 실제 메모리 주소값으로 변환한다.


# 저장장치 별 데이터 읽기 속도 차이

- CPU cache : 1 ~ 28 나노초
    - L1 cache(256KB) : 1 나노초
    - L3 cache(16MB) : 28나노초
- RAM : 통산 100 나노초
- SSD : 50 ~ 150 마이크로초
- 하드디스크 : 1 ~ 10 밀리초


<img width="450px" alt="Screenshot 2023-07-03 at 11 49 02 PM" src="https://github.com/WonilLee211/TIL/assets/109330610/f942a16a-2553-4b41-8006-c6cbb9f07014">

# ram 구조

ram은 1byte 크기의 공간 배열로 이루어져 있다.

# 데이터 읽기 위한 요구 사항

- 데이터 위치
- 읽어올 데이터 량

 # CPU가 명령어는 읽어들이는 방법

1. CPU는 주소값을 통해 램에 어디에 접근할지 명령하게 됨
    - 이때 CPU가 독자적으로 명령어를 실행시킬 수 없기 때문에 프로그램을 실행시켜야 함
    - 즉, 실행할 명령어를 제공함
    - 프로그램을 실행하게 되면 프로그램의 시작점을 알렺고 그 후로 CPU는 해당 위치부터 명령어를 쭉쭉 읽어나가며 실행하게 됨
    - 여기서 중요한 점은 <mark>CPU가 램의 어디에서 명령어를 읽어야 할지 계속 알아야 한다는 점</mark>
    - 위 역할을 CPU 안에 Instruction Pointer 레지스터(RIP)가 수행
    - CPU는 자신이 어떤 프로그램을 실행시키고 있는지 모른 채 현재 RIP가 가르키는 위치에 있는 명령어를 실행하고, 다음 명령어 위치로 RIP를 증가시키는 데에 만 관심이 있음


# 가상메모리

- 메모리를 더욱 효율적으로 관리하기 위한 매커니즘
- 크기가 큰 프로그램을 실행시키고, 프로그램 실행에 필요한 정보만 램에 올려 메모리를 효율적으로 사용하며, 메모리간 독립적인 저장 주소를 보장하고, 데이터 스와핑을 위해 고안된 매커니즘

## 페이징

- 물리적 메모리 공간인 프레임을 고정된 크기의 페이지와 매핑
    - 프레임 : 일정한 크기로 분할된 물리적인 메모리 공간
- 4 ~ 16 KB
- 프로그램마다 페이징 테이블을 갖고 있음
    - 페이징 테이블 : 매핑 정보를 갖고 있는 테이블
    - 프로그램마다 동일한 페이지 값에 다른 프레임이 매핑됨
- 64비트 시스템에서 사용 가능한 가상 메모리 크기는 2<sub>64바이트(1844테라바이트)


