# switch

## switch 동작 과정

- 내부적으로 case의 값을 인덱스로 한 `jump table`을 생성함.
- 비교가 아닌, table을 이용한 코드 위치를 찾아 해당 코드 블록으로 이동하여 실행하게 됨


## `jump table`

- 다중 분기를 처리하기 위해 사용되는 기술
- 분기되는 값의 집합을 배열 또는 맵 형태로 사전에 구성함
- 각 값은 인덱스로 사용되며, 이 인덱스는 특정한 동작 또는 코드 블록에 대응됩
-비교 대신에 이러한 인덱스를 사용하여 미리 정의된 코드 블록으로 직접 점프할 수 있음
- case의 값의 크기에 따라 결정됨
- switch 문이 실행되기 전에 생성되기 때문에 case문에 변수가 할당될 수 없음

## 효율적인 사용법

- case 값의 크기가 작고
- 값이 순차적으로 정렬되어 있으며,
- 값들 간의 차이가 크지 않을 경우 효율적

## 메모리 이슈

case 값이 1, 2, 3, 100과 같이 불규칙적이고 차이가 클 경우, jump table은 순차적으로 값을 인덱싱해야 하기 때문에 메모리 상의 비효율이 발생할 수 있습니다.

이 또한, 컴파일러의 최적화에 따라 극복할 수 있지만, 기본적인 원리에 따라 비효율적입니다.